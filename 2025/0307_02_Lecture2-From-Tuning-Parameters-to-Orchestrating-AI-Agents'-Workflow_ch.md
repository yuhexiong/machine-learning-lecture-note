# 第二講 從調參數到調 AI Agent 的工作流程

完整課程大綱請參考o [Machine Learning 2025](https://course.ntu.edu.tw/courses/113-2/41735)  
筆記為以下課程 （Hung-yi Lee YouTube）  
(1) [【生成式AI時代下的機器學習(2025)】第二講：一堂課搞懂 AI Agent 的原理 (AI如何透過經驗調整行為、使用工具和做計劃)](https://www.youtube.com/watch?v=M2Yg1kwPpts&list=PLJV_el3uVTsNZEFAdQsDeOdzAaHTca2Gi&index=2)


## AI Agent

人類不提供明確的行為、步驟或指令，而是只給予一個**目標**  
AI 會自行思考如何達成這個目標

AI 不斷重複以下循環：

目標 → 觀察（observation 1）→ 採取行動（action 1） → 觀察（observation 2）→ … → 直到達成目標

這本質上就是一種**接龍式的過程**

這個過程中**不包含模型訓練**  
純粹是**模型的應用**


## 使用 LLM 執行 AI Agent 的優勢

### 1. **行動能力**（以下棋為例）

- **傳統 Agent（如 AlphaGo）**：  
  預先定義好有限的動作空間，只能在棋盤上的指定位置下棋

- **LLM Agent**：  
  行為幾乎**無限多樣**

### 2. **優化能力**（以 AI 程式員為例）

- **傳統 Agent**：  
  必須定義一個 reward function（例如程式能否 compile），這個 reward 是主觀的且需要人工調整

- **LLM Agent**：  
  可以**直接閱讀 log** 並從中推理


## 回合制互動 vs 真實世界互動

- 概念上：  
  觀察 → 行動 → 觀察 → 行動

- 真實情況：  
  在一個行動還沒完成之前就可能出現新的**觀察**  
  例如**語音對話**中，人可能在回應尚未結束時就插話


## AI Agent 的關鍵能力

### 1. **根據經驗調整行為**

- **回饋等於觀察**  
  → 可據此產生下一個行動

- 當接龍太長時，AI 必須**回顧所有過去的觀察與行動**

為了處理這種情況，AI 會使用：

#### （1）**記憶讀取**
- 將資訊儲存在**Agent 的記憶中**
- 使用**檢索式方法**只取出與當前問題**相關的記憶**
- 行動根據**相關記憶**與**當前觀察**共同產生

**目前的語言模型幾乎無法從負面回饋中獲益**

#### （2）**選擇性儲存記憶**
- AI 會問自己：  
  *這件事情重要到值得記住嗎？*
- 只會儲存**重要資訊**進入記憶中

#### （3）**反思**
- 對記憶重新整理  
- 產生**新想法**  
- 建立**知識圖譜**


### 2. **使用工具（Function Call）**

- 工具範例：
  1. 搜尋引擎
  2. 程式執行
  3. 其他 AI

- **System Prompt**：告訴模型**如何使用工具**（優先順序高）  
- **User Prompt**：使用者的提問（優先順序低）

語言模型會**產生文字**（如程式碼）  
當出現某些指定文字時，Agent 會執行對應的**工具**


### 3. **規劃能力**